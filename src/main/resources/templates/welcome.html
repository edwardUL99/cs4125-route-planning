<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <title>Welcome</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
<nav th:insert="fragments/navbar :: navbar"></nav>
<div class="container h-100">
    <div class="card shadow px-5 mt-5 py-5">
        <div class="row align-items-center h-100">
            <div class="col-6 mx-auto">
                <div class="text-center">
                    <h3>Route Planning System</h3>
                </div>
            </div>
        </div>
        <div class="row align-items-center">
            <div sec:authorize="isAuthenticated()">
                <form id="logoutForm" method="POST" th:action="@{/logout}">
                    <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
                </form>
            </div>
        </div>
        <div class="row">
            <h2>Welcome <span sec:authentication="name"></span></h2>
            <p>
                With this system, you can enter two waypoints (a start and end of the route) and then generate routes between
                these points. The routes can be adjusted to factor in routes with the lowest CO2 emissions or shortest
                time for that distance. You can also save generated routes to your profile for future reference
            </p>
        </div>
        <div class="row d-grid gap-2 mx-auto">
            <div class="col">
                <a th:href="@{/routes}" class="btn btn-primary">Generate Routes</a>
                <a th:href="@{/routes/saved}" class="btn btn-primary">Saved Routes</a>
            </div>
        </div>
        <div class="row text-end">
            <div class="col">
                <a href="javascript:void(0)" onclick="document.forms['logoutForm'].submit()">Logout</a>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>